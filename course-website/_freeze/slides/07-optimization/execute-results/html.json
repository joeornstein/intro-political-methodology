{
  "hash": "5ddcf4453c5f57537ac8b99be2765cf2",
  "result": {
    "markdown": "---\ntitle: \"Calculus (Just The Essentials)\"\n# author: \"Joe Ornstein\"\n# date: \"September 30, 2020\"\noutput:\n  xaringan::moon_reader:\n    nature:\n      highlightStyle: github\n      countIncrementalSlides: false\n# subtitle: 'POLS 7012: Introduction to Political Methodology'\n# institute: University of Georgia\n---\n\n\n\n\n\n# The Linear Model\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/load-and-plot-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n---\n\n# The Linear Model\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/unnamed-chunk-1-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n---\n\n# The Linear Model\n\n$$Y = X\\beta + \\varepsilon$$\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/unnamed-chunk-2-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n---\n\n# The Linear Model\n\nPartitioning the outcome into two parts -- the part we can explain, and the part we're ignoring:\n\n$$\\underbrace{Y}_\\text{outcome} = \\underbrace{X\\beta}_\\text{explained} + \\underbrace{\\varepsilon}_\\text{unexplained}$$\n\n---\n\n# The Linear Model\n\nPartitioning the outcome into two parts -- the part we can explain, and the part we're ignoring:\n\n$$\\underbrace{Y}_\\text{outcome} = \\overbrace{X}^\\text{explanatory variable}\\beta + \\varepsilon$$\n---\n\n\n# The Linear Model\n\nPartitioning the outcome into two parts -- the part we can explain, and the part we're ignoring:\n\n$$\\underbrace{Y}_\\text{outcome} = \\overbrace{X}^\\text{explanatory variable}\\underbrace{\\beta}_\\text{parameter} + \\varepsilon$$\n\n---\n\n# The Linear Model\n\nPartitioning the outcome into two parts -- the part we can explain, and the part we're ignoring:\n\n$$\\underbrace{Y}_\\text{outcome} = \\overbrace{X}^\\text{explanatory variable}\\underbrace{\\beta}_\\text{parameter} + \\overbrace{\\varepsilon}^\\text{residual}$$\n--\n\n**Our challenge for today**: how do we estimate the $\\beta$ parameter? What is the \"best\" slope for the line of best fit?\n\n---\n\n\nclass: center, middle\n\nLet's play around a little bit with `R/week-07/line-of-best-fit.Rmd`.\n\n---\n\nclass: center, middle\n\n# Calculus\n\n---\n\n# An Optimization Problem\n\n--\n\nWe have a **function** that we want to minimize.\n\n$$SSE = \\sum (Y - X\\beta)^2$$\nHere's what that function looks like:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/sse-plot-1.png){fig-align='center' width=500px height=300px}\n:::\n:::\n\n\n--\n\n**Key Insight**: Function is minimized when the slope \"switches\" from decreasing to increasing. Exactly at the point where the slope equals zero.\n\n---\n\nclass: center, middle\n\n# Slopes\n\n---\n\n# Slopes\n\nWhat is the **slope** of $f(x) = 3x + 2$?\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/slope-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n--\n\nThe slope of a linear function (a straight line) is measured by how much $y$ increases when you increase $x$ by $1$. In this case, $3$.\n\n---\n\n# Linear Functions\n\nFind the slope of each function:\n\n- $y = 2x + 4$\n\n- $f(x) = \\frac{1}{2}x - 2$\n\n- life expectancy (years) = 18.09359 + 5.737335 $\\times$ log(GDP per capita)\n\n\n--\n\n### Remember:\n\nSlope of a line $= \\frac{rise}{run}$ \n\n--\n$= \\frac{\\Delta Y}{\\Delta X}$\n\n--\n$= \\frac{f(x+h) - f(x)}{h}$\n\n\n???\n\nFinding the slope of a line is *easy*.\n\nJust wanted you to get comfortable with that last expression, because we'll be see it again in a moment. \n\nhttps://smartech.gatech.edu/bitstream/handle/1853/56031/effect_of_gdp_per_capita_on_national_life_expectancy.pdf\n\n---\n\n# Nonlinear Functions\n\n.center[\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Nonlinear Function-1.png){fig-align='center' width=600}\n:::\n:::\n\n]\n\nNonlinear functions are confusing and scary...\n\n???\n\nNonlinear functions are confusing and scary. Sometimes the slope is positive. Sometimes it's negative. Sometimes it's zero. And unlike with linear functions, just looking at the formula gives you no indication what the slope is at any point.\n\n\n---\n\n# Isaac Newton\n\n![](img/newton.png)\n\n???\n\nDeveloped/Discovered:\n- The theory of universal gravitation\n- Three Laws of Motion\n- The Nature of Light\n- And, as a side project so he'd have mathematical notation for those other projects, he created calculus\n\nNB: Newton did some of his best work while stuck at home during an epidemic. So, you know, get to it.\n\n---\n\n# Gottfried Wilhelm Leibniz\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/leibniz.jpg){fig-align='center' width=600}\n:::\n:::\n\n\n???\n\nAlso invented calculus, but with better notation. A philosophical optimist who believed we lived in the \"best of all possible worlds\", a sentiment parodied by Voltaire, and perhaps belied by the fact that Newton took all the credit for inventing calculus.\n\n---\n\n# Newton and Leibniz's Insight\n\nAny curve becomes a straight line if you \"zoom in\" far enough.\n\n--\n\n<br>\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/enhance.gif){fig-align='center' width=600}\n:::\n:::\n\n\n???\n\n<https://knowyourmeme.com/memes/zoom-and-enhance>\n\n---\n\n# Zoom and Enhance...\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Show the function again-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n---\n\n# Zoom and Enhance...\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Zoom and Enhance-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n---\n\n# Zoom and Enhance...\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Zoom and Enhance 2-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n\n---\n\n# Zoom and Enhance...Again...\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Zoom and Enhance 3-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n\n---\n\n# Zoom and Enhance...Again...\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Zoom and Enhance 4-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n---\n\n# Zoom and Enhance...Again...And Again...\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Zoom and Enhance 5-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n---\n\n# Zoom and Enhance...Again...And Again...\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Zoom and Enhance 6-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n--\n\nIt's basically a straight line! And finding the slope of a straight line is easy...\n\n???\n\nThe point is that, in the limit, as you shrink the interval smaller and smaller (infinitesimally small), the function is better and better approximated by a straight line. And we already know the slope of a straight line, so the problem is solved! (That line is called the tangent line FYI.)\n\n---\n\n# Putting All That Into Math...\n\n\n<br>\n\n<br>\n\n$$f'(x) = \\lim_{h \\to 0}\\frac{f(x+h)-f(x)}{h}$$\n\n---\n\n# Putting All That Into Math...\n\n<br>\n\n<br>\n\n$$f'(x) = \\underbrace{\\lim_{h \\to 0}}_\\text{shrink h really small}\\frac{\\overbrace{f(x+h)-f(x)}^\\text{the change in y}}{\\underbrace{h}_\\text{the change in x}}$$\n\n--\n\n<br>\n\n\nThis is called the **derivative** of a function.\n\n\n---\n\n# Example\n\nLet $f(x) = 2x + 3$. What is $f'(x)$?\n\n--\n\n$$f'(x) =  \\lim_{h \\to 0}\\frac{f(x+h)-f(x)}{h}$$ \n--\n\n$$= \\lim_{h \\to 0}\\frac{2(x+h)+3-(2x+3)}{h}$$ \n\n--\n\n$$= \\lim_{h \\to 0}\\frac{2x+2h+3-(2x+3)}{h}$$\n\n--\n\n$$= \\lim_{h \\to 0}\\frac{2h}{h}$$\n\n--\n\n$$= 2$$\n\n???\n\nHey look what we discovered! The slope of a linear function equals the coefficient on $x$!\n\n---\n\n# Now A Nonlinear One\n\nLet $f(x) = 3x^2 + 2x + 3$. What is $f'(x)$?\n\n--\n\n$$= \\lim_{h \\to 0}\\frac{3(x+h)^2 + 2(x+h) + 3 - (3x^2 + 2x + 3)}{h}$$\n--\n\n$$= \\lim_{h \\to 0}\\frac{3x^2 + 3h^2 + 6xh + 2x+ 2h + 3 - (3x^2 + 2x + 3)}{h}$$\n\n$$= \\lim_{h \\to 0}\\frac{3h^2 + 6xh + 2h}{h}$$\n--\n\n$$= \\lim_{h \\to 0}3h + 6x + 2$$\n\n--\n\n$$= 6x + 2$$\n\n---\n\n# Solution\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Derivative Exercise Solution-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n???\n\nThis function, $f'(x)$, outputs the slope of $f(x)$ at every point. You can \"read off\" the slope of $f(x)$ from the vertical of $f'(x)$.\n\n---\n\nclass: center, middle\n\n**Good news!** You don't have to go through that process every time. Mathematicians have done it for you, and have discovered a whole bunch of useful shortcuts.\n\n---\n\n## Shortcut 1: The Power Rule\n\nIf $f(x) = ax^k$, then $f'(x) = kax^{k-1}$\n\n--\n\n<br>\n\n### Example:\n\nIf $f(x) = 5x^4$, then $f'(x) = 20x^3$. \n\n--\n\n### Practice Problem:\n\nLet $f(x) = 2x^3$. What is $f'(x)$?\n\n--\n\n<br>\n\n$$f'(x) = 6x^2$$\n\n---\n\n## Shortcut 2: The Sum Rule\n\nThe derivative of a sum is equal to the sum of derivatives.\n\nIf $f(x) = g(x) + h(x)$, then $f'(x) = g'(x) + h'(x)$\n\n--\n\n<br>\n\n### Example:\n\nIf $f(x) = x^3 + x^2$, then $f'(x) = 3x^2 + 2x$\n\n--\n\n### Practice Problem:\n\nIf $f(x) = 2x^3 + x^2$, what is $f'(x)$?\n\n--\n\n$$f'(x) = 6x^2 + 2x$$\n\n---\n\n## Shortcut 3: The Constant Rule\n\nThe derivative of a constant is zero\n\nIf $f(x) = c$, then $f'(x) = 0$\n\n--\n\n<br>\n\n### Example:\n\nIf $f(x) = 5$, then $f'(x) = 0$.\n\n--\n\n### Practice Problem:\n\nIf $f(x) = 4x^2 + 3x + 5$, what is $f'(x)$?\n\n--\n\n<br>\n\n$$f'(x) = 8x + 3$$\n\n---\n\n## Shortcut 4: The Product Rule\n\nThe derivative of a product is a bit trickier...\n\nIf $f(x) = g(x) \\cdot h(x)$, then $f'(x) = g'(x) \\cdot h(x) + g(x) \\cdot h'(x)$\n\n--\n\n### Example:\n\nIf $f(x) = (2x)(x + 2)$, then $f'(x) = 2x + 2(x+2) = 4x + 4$\n\n--\n\n### Practice Problem:\n\n$f(x) = (3x^2 + 6x)(x+2)$, what is $f'(x)$?\n\n--\n\n$$f'(x) = (3x^2 + 6x)(1) + (6x + 6)(x+2)$$\n\n$$f'(x) = 3x^2 + 6x + 6x^2 + 6x + 12x + 12$$\n\n$$f'(x) = 9x^2 + 24x + 12$$\n\n---\n\n## Shortcut 5: The Chain Rule\n\nIf your $f(x)$ is a function wrapped around another function...\n\nIf $f(x) = g(h(x))$, then $f'(x) = g'(x) \\cdot h'(x)$\n\n--\n\n\"The derivative of the outside times the derivative of the inside.\"\n\n--\n\n### Example:\n\nIf $f(x) = (2x^2 - x + 1)^3$, then $f'(x) = 3(2x^2 - x + 1)^2 (4x - 1)$\n\n--\n\n### Practice Problem:\n\n$f(x) = \\sqrt{x + 3} = (x+3)^{\\frac{1}{2}}$, what is $f'(x)$?\n\n--\n\n$f'(x) = \\frac{1}{2}(x+3)^{-\\frac{1}{2}}(1) = \\frac{1}{2\\sqrt{x+3}}$\n\n---\n\n## Other Derivative Rules\n\nThere's a handy chart in Moore & Siegel:\n\n![](img/moore-siegel-truncated.png)\n\n---\n\n<br>\n\n<br>\n\n<br>\n\n.center[![](img/math.gif)]\n\n--\n\n<br>\n\nIf you haven't seen these before, it's a lot to absorb. But practice helps.\n\n???\n\nDon't freak out.\n\n---\n\n\n# More Practice\n\n### Problem 1: Sum of Powers (Polynomial)\n\nLet $f(x) = 2x^3 + 4x + 79$. What is $f'(x)$?\n\n### Problem 2: Multiply By A Constant\n\nLet $f(x) = 3(x^2 + x + 42)$. What is $f'(x)$?\n\n### Problem 3: Product Rule\n\nLet $f(x) = (x^2 + 1)(x+3)$. What is $f'(x)$?\n\n\n\n---\n\nclass: center, middle\n\n# I taught you that...\n\n\n\n---\n\nclass: center, middle\n\n# ...so you could do *this*.\n\n\n---\n\n# Optimization\n\nLet $f(x) = 2x^2 + 8x - 32$. At what value of $x$ is the function minimized?\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Optimization Function-1.png){fig-align='center' width=500}\n:::\n:::\n\n\n--\n\n**Key Insight**: Function is minimized when the slope \"switches\" from decreasing to increasing. Exactly at the point where the slope equals zero.\n\n---\n\n# Optimization in Three Steps\n\n--\n\n#### 1. Take the derivative of the function.\n\n--\n\n#### 2. Set it equal to zero.\n\n--\n\n#### 3. Solve for $x$.\n\n---\n\n# Optimization in Three Steps\n\n#### 1. Take the derivative of the function.\n\n--\n\n$$f(x) = 2x^2 + 8x - 32$$\n\n--\n\n$$f'(x) = 4x + 8$$\n\n--\n\n#### 2. Set it equal to zero\n\n$$4x + 8 = 0$$\n\n--\n\n#### 3. Solve for $x$.\n\n--\n\n$$x = -2$$\n\n\n???\n\nThat second step is called the \"First Order Condition\", or FOC.\n\n---\n\n# Optimization in Three Steps\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Optimization Plot with Solution-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n\n???\n\nBonus question: how do you know if it's a maximum or a minimum? Take the second derivative! If it's positive, then the slope is increasing (so it's a minimum). If it's positive, then the slope is decreasing (so it's a maximum).\n\n---\n\n# Now You Try It\n\nSuppose that happiness as a function of jellybeans consumed is $h(j) = -\\frac{1}{3}j^3 + 81j + 2$. How many jellybeans should you eat? (Assume you can only eat a positive number of jellybeans).\n\n--\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Jellybean Plot-1.png){fig-align='center' width=600}\n:::\n:::\n\n\n---\n\nclass: center, middle\n\n### Wait, how do you know if it's a maximum or a minimum?\n\n---\n\n## Jellybeans Again\n\n$h(j) = \\frac{1}{3}j^3 + 81j + 2$ and $h'(j) = 81 - j^2$\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/Jellybean Plot Again-1.png){fig-align='center' width=60%}\n:::\n:::\n\n\n--\n\nIt's a maximum when the slope is **decreasing**, and a minimum when then slope is **increasing**. How do you figure out if the slope is increasing or decreasing?\n\n--\n\nThat's right. You find the **slope of the slope** (aka the **second derivative**).\n\n---\n\n## The Second Derivative Test\n\n$h(j) = \\frac{1}{3}j^3 + 81j + 2$ and $h'(j) = 81 - j^2$\n\nWhat is $h''(j)$? Is it positive or negative when you eat $9$ jellybeans?\n\n--\n\n$$h''(j) = -2j$$\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-optimization_files/figure-html/second derivative-1.png){fig-align='center' width=60%}\n:::\n:::\n\n\n\n---\n\nclass: center, middle\n\n# Partial Derivatives\n\n\n---\n\n# Partial Derivatives\n\nWhat if you have a multivariable function?\n\n$$f(x,y) = 2x^2y + xy - 4x + y -6$$\n\n--\n\nSame procedure! To get the derivative of a function *with respect to* $x$ or $y$, treat the other variable as a constant.\n\n--\n\n$$\\frac{\\partial f}{\\partial x} = 4yx + y - 4$$\n\n--\n\n$$\\frac{\\partial f}{\\partial y} = 2x^2 + x + 1$$\n\n---\n\n# Now You Try...\n\nSuppose happiness as a function of jellybeans and Dr. Peppers consumed is\n\n$$h(j,d) = 8j -\\frac{1}{2}j^2 + 2d - 3d^2 + jd + 100$$\nHow many jellybeans should you eat? How many Dr. Peppers should you drink?\n\n--\n\nIntuitively, the $jd$ term is an **interaction effect**. The effect of jellybeans on happiness increases if you also drink more Dr. Peppers. \n\n---\n\n# Now You Try...\n\n$$h(j,d) = 8j -\\frac{1}{2}j^2 + 2d - 3d^2 + jd + 100$$\n\n--\n\n$$\\frac{\\partial h}{\\partial j} = 8 - j + d = 0$$\n--\n\n$$\\frac{\\partial h}{\\partial d} = 2 - 6d + j = 0$$\n--\n\n$$j = 8 + d$$\n\n$$j = 6d - 2$$\n--\n\n<br>\n\n$$d^* = 2$$\n$$j^* = 10$$\n\n---\n\n## Visualizing That Function\n\n$$h(j,d) = 8j -\\frac{1}{2}j^2 + 2d - 3d^2 + jd + 100$$\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-62dc3fd5377a2dbc17ed\" style=\"width:100%;height:520px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-62dc3fd5377a2dbc17ed\">{\"x\":{\"visdat\":{\"639ccf04135\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"639ccf04135\",\"attrs\":{\"639ccf04135\":{\"z\":[[100,97.333333333333329,84,60],[107.86703601108033,106.60387811634349,94.674053554939988,72.07756232686981],[114.62603878116343,114.76638965835642,104.24007386888273,83.04709141274239],[120.2770083102493,121.82086795937212,112.69806094182826,92.908587257617725],[124.81994459833794,127.76731301939058,120.04801477377654,101.66204986149584],[128.25484764542935,132.60572483841182,126.2899353647276,109.30747922437673],[130.58171745152356,136.33610341643583,131.42382271468145,115.84487534626038],[131.80055401662051,138.95844875346262,135.44967682363804,121.27423822714681],[131.91135734072023,140.47276084949215,138.36749769159741,125.59556786703601],[130.91412742382272,140.87903970452447,140.17728531855954,128.80886426592798],[128.80886426592798,140.17728531855954,140.87903970452447,130.91412742382272],[125.59556786703601,138.36749769159741,140.47276084949215,131.9113573407202],[121.27423822714681,135.44967682363804,138.95844875346259,131.80055401662048],[115.84487534626039,131.42382271468145,136.33610341643583,130.58171745152356],[109.30747922437673,126.28993536472761,132.60572483841182,128.25484764542938],[101.66204986149584,120.04801477377654,127.76731301939057,124.81994459833794],[92.908587257617739,112.69806094182826,121.82086795937212,120.27700831024931],[83.04709141274239,104.24007386888275,114.76638965835642,114.62603878116344],[72.07756232686981,94.674053554939988,106.60387811634348,107.86703601108033],[60,84,97.333333333333329,100]],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"surface\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"xaxis\":{\"title\":\"Dr. Peppers\"},\"yaxis\":{\"title\":\"Jellybeans\"},\"zaxis\":{\"title\":\"Happiness\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666666\",\"rgba(70,19,97,1)\"],[\"0.0833333333333333\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666666\",\"rgba(199,225,42,1)\"],[\"0.958333333333334\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":true,\"z\":[[100,97.333333333333329,84,60],[107.86703601108033,106.60387811634349,94.674053554939988,72.07756232686981],[114.62603878116343,114.76638965835642,104.24007386888273,83.04709141274239],[120.2770083102493,121.82086795937212,112.69806094182826,92.908587257617725],[124.81994459833794,127.76731301939058,120.04801477377654,101.66204986149584],[128.25484764542935,132.60572483841182,126.2899353647276,109.30747922437673],[130.58171745152356,136.33610341643583,131.42382271468145,115.84487534626038],[131.80055401662051,138.95844875346262,135.44967682363804,121.27423822714681],[131.91135734072023,140.47276084949215,138.36749769159741,125.59556786703601],[130.91412742382272,140.87903970452447,140.17728531855954,128.80886426592798],[128.80886426592798,140.17728531855954,140.87903970452447,130.91412742382272],[125.59556786703601,138.36749769159741,140.47276084949215,131.9113573407202],[121.27423822714681,135.44967682363804,138.95844875346259,131.80055401662048],[115.84487534626039,131.42382271468145,136.33610341643583,130.58171745152356],[109.30747922437673,126.28993536472761,132.60572483841182,128.25484764542938],[101.66204986149584,120.04801477377654,127.76731301939057,124.81994459833794],[92.908587257617739,112.69806094182826,121.82086795937212,120.27700831024931],[83.04709141274239,104.24007386888275,114.76638965835642,114.62603878116344],[72.07756232686981,94.674053554939988,106.60387811634348,107.86703601108033],[60,84,97.333333333333329,100]],\"type\":\"surface\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\n---\n\nclass: center, middle\n\n## Back to our motivating example...\n\n---\n\n## Back to our motivating example...\n\nError function we wanted to minimize:\n\n$f(b) = \\sum (y - xb)^2$\n\n--\n\nTo compute the derivative, apply the sum rule and the chain rule...\n\n$\\frac{\\partial f}{\\partial b} = \\sum 2(y - xb)(-x) = \\sum(2x^2b - 2xy)$\n\n--\n\nSet that derivative equal to zero and solve:\n\n$0 = \\sum (2x^2b - 2xy)$\n\n--\n\n$\\sum (2xy) = \\sum (2x^2b)$\n\n--\n\n$2 \\sum (xy) = 2b\\sum (x^2)$\n\n--\n\n$b = \\frac{\\sum xy}{\\sum x^2}$\n\n???\n\nNote: suppressing index notation for the brains of the students\n\n\n---\n\n## Back to our motivating example...\n\nThe Linear Model:\n\n$$y = x\\beta + \\varepsilon$$\nThe thing we want to minimize:\n\n$$SSE = \\sum (y - x\\beta)^2$$\nThe solution to the minimization problem:\n\n$$b = \\frac{\\sum xy}{\\sum x^2}$$\n\n--\n\nSome terminology:\n\n- $\\beta$ in that first equation is called the **estimand**. It's the thing we're trying to estimate.\n- $b$ in that final equation is called the **estimator**, or the **estimating equation**. It's the procedure we use to produce an estimate.\n\n---\n\n# The Linear Model is Everywhere\n\n--\n\n- **OLS / Regression Analysis (POLS 7014)** = The Linear Model\n\n- **MLE / Logit / Probit / Count Models (POLS 8501)** = The Linear Model + another function\n\n- **t-tests** = The Linear Model + a binary predictor\n\n- **Instrumental Variables** = Two Linear Models\n\n- **Regression Discontinuity** = Two Linear Models\n\n- **Matching** = The Linear Model + Weights\n\n- **Fixed Effects / Random Effects / ANOVA** = The Linear Model + Categorical Predictor Variables\n\n- **Difference-in-differences** = The Linear Model + Time\n\n--\n\nStatistical modeling can seem pretty daunting when you think about it as a bunch of tests with no obvious connections. But fundamentally, the linear model is what unifies all these approaches...\n\n<!-- --- -->\n\n<!-- # Why Build Models? -->\n\n<!-- -- -->\n\n<!-- 1. To *describe* complex data -->\n\n<!-- -- -->\n\n<!-- 2. To make *predictions* -->\n\n<!-- -- -->\n\n<!-- 3. To help infer *causality* -->\n\n<!-- ??? -->\n\n<!-- Up to now, we've been using visualization as our primary mode of inquiry. This is a great, and underrated, tool! But there are limits to what it can do for us. Models allow us to more precisely describe the relationships we can only see in a chart. They allow us to make predictions about unseen data. And, coupled with theory, they can help us uncover causal relationships. -->\n\n---\n\n\nclass: center, middle\n\nBack to the `R` script!",
    "supporting": [
      "07-optimization_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/htmlwidgets-1.6.1/htmlwidgets.js\"></script>\r\n<script src=\"../site_libs/plotly-binding-4.10.2/plotly.js\"></script>\r\n<script src=\"../site_libs/typedarray-0.1/typedarray.min.js\"></script>\r\n<script src=\"../site_libs/jquery-3.5.1/jquery.min.js\"></script>\r\n<link href=\"../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\r\n<link href=\"../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}